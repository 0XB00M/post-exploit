#include <stdio.h>
#include <Windows.h>

int assignment_memory_management(void) {

	const char msg[] = "Hello,World \n";
	size_t str_length = strlen(msg);
	
	// Allocate memory space
	printf("[#] Allocate process virtual memory space \n");
	LPVOID pAddress = VirtualAlloc(
		NULL,
		100,
		MEM_COMMIT,
		PAGE_READWRITE
	);
	if (!pAddress) {
		printf("[!] Unable to allocate virtual space \n");
	}
	printf("[#] Base Address 0x%p \n", pAddress);

	// Write to the space
	printf("[#] Write to memory \n");
	RtlFillMemory(pAddress, 50, 1);
	printf("[#] Free virtual allocated memory \n");
	VirtualFree(pAddress, 0, MEM_RELEASE);

	return 0;
}
